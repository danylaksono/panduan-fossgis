
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administrasi Pengguna pada Basisdata &#8212; Enterprise FOSS-GIS</title>
    
  <link rel="stylesheet" href="../_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.bfb7730f9caf2ec0b46a44615585038c.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Basisdata Spasial dengan PostGIS" href="postgisquery.html" />
    <link rel="prev" title="Basisdata Relational" href="relationaldb.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Enterprise FOSS-GIS</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Enterprise GIS dengan Perangkat Lunak Free and OpenSource (FOSS)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Bagian I - Linux Server dan FOSS-GIS
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/introlinux.html">
   Pengantar Linux Server, FOSS-GIS dan Web Server
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/pengantarlinux.html">
   Pengantar Linux dan Server
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/arsitektur.html">
   Pengaturan dan Administrasi Linux
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/linuxserver.html">
   Linux sebagai Sistem Operasi Server
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/fossgis.html">
   Free and Open Source Software-GIS
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Bagian II - Relational Spatial Database
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="intrordbms.html">
   Pengantar Basisdata Relational
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="relationaldb.html">
   Basisdata Relational
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Administrasi Pengguna pada Basisdata
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="postgisquery.html">
   Basisdata Spasial dengan PostGIS
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Bagian III - Standar OGC untuk Interoperabilitas
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/introogc.html">
   Pengantar Interoperabilitas Data Spasial
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/interoperabilitas.html">
   Interoperabilitas dan Standar OGC
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/publikasi.html">
   Publikasi Data Spasial dengan Geoserver
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/konsumsiogc.html">
   Konsumsi Data dengan Standar OGC
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/sesi2/dbmanagement.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        
        
        <a class="edit-button" href="https://github.com/danylaksono/panduan-fossgis/edit/master/./fossgis_enterprise/sesi2/dbmanagement.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#roles-group-dan-priviledges">
   Roles, Group dan Priviledges
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pengaturan-hak-akses-pada-postgresql">
   Pengaturan hak akses pada PostgreSQL
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#membuat-pengguna-dan-grup-baru">
     Membuat pengguna dan grup baru
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#menerapkan-peran-baru">
     Menerapkan peran baru
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#latihan-menggunakan-pengaturan-roles-untuk-membatasi-akses">
     Latihan: Menggunakan Pengaturan Roles untuk membatasi akses
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mengatur-koneksi-multi-pengguna">
   Mengatur koneksi multi-pengguna
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#latihan-pengaturan-priviledges">
     Latihan: Pengaturan Priviledges
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#latihan-terhubung-dengan-server-basisdata">
     Latihan: Terhubung dengan server basisdata
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="administrasi-pengguna-pada-basisdata">
<h1>Administrasi Pengguna pada Basisdata<a class="headerlink" href="#administrasi-pengguna-pada-basisdata" title="Permalink to this headline">¶</a></h1>
<p>Pada basisdata enterprise, concurrent use atau pemakaian bersama menjadi kebutuhan utama pada sistem yang berjalan. Sama seperti pada sistem operasi Linux yang sudah dibahas sebelumnya, terdapat pengaturan untuk memberikan izin pada basisdata yang memungkinkan pengguna berbeda mempunyai izin akses yang berbeda.</p>
<div class="section" id="roles-group-dan-priviledges">
<h2>Roles, Group dan Priviledges<a class="headerlink" href="#roles-group-dan-priviledges" title="Permalink to this headline">¶</a></h2>
<p>Izin pada pengguna di PostgreSQL mirip dengan pemberian izin pada Linux: pembagian peran (role) dapat diberikan pada user maupun grup, dengan tiap role memiliki hak akses (priviledges) yang berbeda</p>
<div class="figure align-default" id="pgroles">
<a class="reference internal image-reference" href="../_images/2020-12-03-09-08-19.png"><img alt="../_images/2020-12-03-09-08-19.png" src="../_images/2020-12-03-09-08-19.png" style="height: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 23 </span><span class="caption-text">Roles pada PostgreSQL dapat diberikan pada <code class="docutils literal notranslate"><span class="pre">grup</span></code> maupun pada <code class="docutils literal notranslate"><span class="pre">user</span></code></span><a class="headerlink" href="#pgroles" title="Permalink to this image">¶</a></p>
</div>
<p>Berikut adalah beberapa peran yang dapat diberikan pada pengguna atau grup:</p>
<ul class="simple">
<li><p><strong>SUPERUSER</strong> - SUPERUSER database perlu mendapat perhatian khusus. Intinya, peran dengan atribut ini dapat membuat SUPERUSER lain. Faktanya, atribut ini diperlukan untuk membuat peran SUPERUSER lainnya. Karena peran dengan atribut ini mengabaikan semua pemeriksaan izin, berikan hak istimewa ini dengan bijaksana.</p></li>
<li><p><strong>CREATEDB</strong> - Memungkinkan peran untuk membuat database.</p></li>
<li><p><strong>CREATEROLE</strong> - Dengan atribut ini, peran dapat mengeluarkan perintah CREATE ROLE, yaitu membuat peran lain.</p></li>
<li><p><strong>LOGIN</strong> - Memungkinkan kemampuan untuk login. Nama peran dengan atribut ini dapat digunakan dalam perintah koneksi klien.</p></li>
</ul>
<p>Pada PostgreSQL, pengaturan ini dapat dijumpai pada menu Create Roles, seperti berikut:</p>
<div class="figure align-default" id="pengaturanroles">
<a class="reference internal image-reference" href="../_images/2020-12-08-08-09-45.png"><img alt="../_images/2020-12-08-08-09-45.png" src="../_images/2020-12-08-08-09-45.png" style="height: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 24 </span><span class="caption-text">Menu pengaturan Roles pada PostgreSQL</span><a class="headerlink" href="#pengaturanroles" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="pengaturan-hak-akses-pada-postgresql">
<h2>Pengaturan hak akses pada PostgreSQL<a class="headerlink" href="#pengaturan-hak-akses-pada-postgresql" title="Permalink to this headline">¶</a></h2>
<p>Dengan PostgreSQL, Anda dapat membuat pengguna dan peran dengan izin akses secara <em>granular</em>. Pengguna atau peran baru harus secara selektif diberikan izin yang diperlukan untuk setiap objek database. Ini memberi banyak kekuatan kepada pengguna akhir, tetapi pada saat yang sama, itu membuat proses pembuatan pengguna dan peran dengan izin yang benar berpotensi rumit.</p>
<p>PostgreSQL memungkinkan Anda memberikan izin langsung ke pengguna database. Namun, sebagai praktik yang baik, Anda disarankan untuk membuat <strong>banyak peran</strong> dengan kumpulan izin tertentu berdasarkan aplikasi dan persyaratan akses. Kemudian tetapkan peran yang sesuai untuk setiap pengguna. Peran harus digunakan untuk menerapkan model dengan hak istimewa terendah untuk mengakses objek database. Pengguna master pada PostgreSQL harus digunakan hanya untuk tugas administrasi database seperti membuat pengguna, peran, dan database lain. Pengguna master tidak boleh digunakan oleh aplikasi. Berikut adalah contoh pembagian peran dan pemberian izin:</p>
<div class="figure align-default" id="pembagianperan">
<a class="reference internal image-reference" href="../_images/2020-12-03-09-09-34.png"><img alt="../_images/2020-12-03-09-09-34.png" src="../_images/2020-12-03-09-09-34.png" style="height: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 25 </span><span class="caption-text">Contoh pengaturan untuk pembagian peran pada PostgreSQL</span><a class="headerlink" href="#pembagianperan" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="membuat-pengguna-dan-grup-baru">
<h3>Membuat pengguna dan grup baru<a class="headerlink" href="#membuat-pengguna-dan-grup-baru" title="Permalink to this headline">¶</a></h3>
<p>Pengguna pada PostgreSQL dibuat melalui query berikut:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">username</span> <span class="p">[</span> <span class="p">[</span> <span class="k">WITH</span> <span class="p">]</span> 
   <span class="k">SYSID</span> <span class="n">uid</span> 
   <span class="o">|</span> <span class="p">[</span> <span class="k">ENCRYPTED</span> <span class="o">|</span> <span class="k">UNENCRYPTED</span> <span class="p">]</span> <span class="n">PASSWORD</span> <span class="s1">&#39;password&#39;</span>
   <span class="o">|</span> <span class="k">CREATEDB</span> <span class="o">|</span> <span class="k">NOCREATEDB</span>
   <span class="o">|</span> <span class="k">CREATEUSER</span> <span class="o">|</span> <span class="k">NOCREATEUSER</span>
   <span class="o">|</span> <span class="k">IN</span> <span class="k">GROUP</span> <span class="n">groupname</span> <span class="p">[,</span> <span class="p">...]</span>
   <span class="o">|</span> <span class="k">VALID</span> <span class="k">UNTIL</span> <span class="s1">&#39;abstime&#39;</span> <span class="p">]</span>
</pre></div>
</div>
<p>Sebagai contoh, perintah berikut akan membuat <strong>pengguna baru</strong> dengan nama ‘user1’ dan password ‘password1’:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">user1</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">&#39;password1&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Adapun <strong>grup</strong> merupakan salah satu cara untuk mengelompokkan pengguna tertentu. Grup dapat dibuat dengan perintah berikut:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">GROUP</span> <span class="n">sales</span> <span class="k">WITH</span> <span class="k">USER</span> <span class="n">user1</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="menerapkan-peran-baru">
<h3>Menerapkan peran baru<a class="headerlink" href="#menerapkan-peran-baru" title="Permalink to this headline">¶</a></h3>
<p><strong><a class="reference external" href="https://www.postgresql.org/docs/13/user-manag.html">Role</a></strong> merupakan cara PostgreSQL mengatur batasan akses oleh pengguna. Tiap Role dapat memiliki pengaturan <em>Priviledges</em> yang berbeda untuk membatasi hak akses yang dapat dilakukan oleh tiap-tiap pengguna. Berikut adalah bagaimana peran dibuat dengan menggunakan bahasa SQL:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">user_viewer</span> <span class="k">WITH</span> <span class="n">LOGIN</span> <span class="n">PASSWORD</span> <span class="s1">&#39;pass2&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>PostgreSQL 13 telah dilengkapi dengan beberapa roles default yang dapat digunakan, yaitu sebagai berikut:</p>
<p><img alt="" src="../_images/2020-12-08-08-16-03.png" /></p>
<p>Peran <em>default</em> tersebut dapat diberikan pada pengguna tertentu melalui perintah:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span> <span class="n">pg_read_server_files</span> <span class="k">TO</span> <span class="n">user1</span><span class="p">;</span>
</pre></div>
</div>
<p>Demikian pula, perintah tersebut dapat dilakukan untuk grup, sehingga hak akses menjadi milik semua pengguna pada grup tersebut.</p>
</div>
<div class="section" id="latihan-menggunakan-pengaturan-roles-untuk-membatasi-akses">
<h3>Latihan: Menggunakan Pengaturan Roles untuk membatasi akses<a class="headerlink" href="#latihan-menggunakan-pengaturan-roles-untuk-membatasi-akses" title="Permalink to this headline">¶</a></h3>
<p>Untuk latihan ini, kita akan gunakan tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code> pada latihan sebelumnya. Kita akan membuat skema pengaturan pengguna melalui grup, user dan roles untuk membatasi akses pada tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code>. Kita akan menggunakan Query pada PostgreSQL untuk keperluan ini (bukan antarmuka PostgreSQL - menggunakan Query relatif lebih sederhana).</p>
<p><img alt="" src="../_images/2020-12-08-08-30-36.png" /></p>
<ol>
<li><p>Langkah pertama adalah membuat <em>role</em> baru untuk pengguna kita nantinya. Role ini diatur agar hanya dapat membaca tabel tertentu:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">ROLE</span> <span class="n">readonly_tabel</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CONNECT</span> <span class="k">ON</span> <span class="k">DATABASE</span> <span class="n">latihan</span> <span class="k">TO</span> <span class="n">readonly_tabel</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">USAGE</span> <span class="k">ON</span> <span class="k">SCHEMA</span> <span class="k">public</span> <span class="k">TO</span> <span class="n">readonly_tabel</span><span class="p">;</span>
</pre></div>
</div>
<p>Tiga perintah di atas berfungsi untuk membuat role baru, memberikan hak akses atas basisdata <code class="docutils literal notranslate"><span class="pre">latihan</span></code> kepada role tersebut, serta memberi akses pada skema <code class="docutils literal notranslate"><span class="pre">public</span></code> yang terdapat di dalam basisdata latihan. Hasilnya adalah sebagai berikut:</p>
<p><img alt="" src="../_images/2020-12-08-08-28-48.png" /></p>
</li>
<li><p>Kita akan membatasi akses ke tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code> agar role <code class="docutils literal notranslate"><span class="pre">readonly_tabel</span></code> hanya dapat membaca kolom id dan jenis kelamin saja.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span> <span class="k">SELECT</span> <span class="p">(</span><span class="n">no_id</span><span class="p">,</span> <span class="n">jenis_kelamin</span><span class="p">)</span> <span class="k">ON</span> <span class="k">TABLE</span> <span class="k">public</span><span class="p">.</span><span class="n">anggota</span> <span class="k">TO</span> <span class="n">readonly_tabel</span><span class="p">;</span>
</pre></div>
</div>
<p>pada perintah di atas, user budi hanya dapat mengakses kolom no_id dan jenis_kelamin</p>
</li>
<li><p>Membuat pengguna baru untuk akses dengan role ini</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">budi</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">&#39;secret&#39;</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">readonly_tabel</span> <span class="k">TO</span> <span class="n">budi</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Lakukan koneksi ke PostgreSQL dengan user baru ini. Gunakan antarmuka PostgreSQL untuk Logout, kemudian login kembali dengan user <code class="docutils literal notranslate"><span class="pre">budi</span></code> dan password <code class="docutils literal notranslate"><span class="pre">secret</span></code>.</p></li>
<li><p>Buat query untuk memilih seluruh isi tabel anggota:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">TABLE</span> <span class="n">anggota</span>
</pre></div>
</div>
<p>hasilnya adalah error karena user <code class="docutils literal notranslate"><span class="pre">budi</span></code> tidak diizinkan untuk mengakses seluruh isi tabel:</p>
<p><img alt="" src="../_images/2020-12-08-08-49-47.png" /></p>
</li>
<li><p>Apabila kita hanya memilih kolom <code class="docutils literal notranslate"><span class="pre">no_id</span></code> dan <code class="docutils literal notranslate"><span class="pre">jenis_kelamin</span></code>, maka hasilnya:</p>
<p><img alt="" src="../_images/2020-12-08-08-54-57.png" /></p>
</li>
</ol>
<p>Latihan di atas menunjukkan bagaimana pengaturan role pada pengguna dapat digunakan untuk membatasi akses pada basisdata, tabel, kolom maupun view. Dengan demikian kita dapat mengatur hak akses yang cukup kompleks untuk berbagai kebutuhan.</p>
</div>
</div>
<div class="section" id="mengatur-koneksi-multi-pengguna">
<h2>Mengatur koneksi multi-pengguna<a class="headerlink" href="#mengatur-koneksi-multi-pengguna" title="Permalink to this headline">¶</a></h2>
<p>Apabila terdapat beberapa pengguna, maka hak akses (priviledges) untuk tiap pengguna ini dapat ditentukan dengan mengaturnya melalui roles, group maupun langsung ke pengguna itu sendiri.</p>
<div class="section" id="latihan-pengaturan-priviledges">
<h3>Latihan: Pengaturan Priviledges<a class="headerlink" href="#latihan-pengaturan-priviledges" title="Permalink to this headline">¶</a></h3>
<p>PostgreSQL memiliki dua tingkat otorisasi, satu di tingkat database, yang disebut <a class="reference external" href="https://www.davidpashley.com/articles/postgresql-user-administration/">otentikasi berbasis <strong>host</strong></a>, dan satu lagi di tingkat yang lebih detil pada tabel, <em>view</em>, dan <em>sequence</em>.
Adapun daftar permission yang dapat diberikan pada pengguna adalah:</p>
<p><img alt="" src="../_images/2020-12-03-10-49-58.png" /></p>
<p>Berikut adalah contoh pemberian izin kepada pengguna untuk mengakses basisdata tertentu:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>GRANT { { SELECT | INSERT | UPDATE | DELETE | RULE | REFERENCES | TRIGGER }
    [,...] | ALL [ PRIVILEGES ] }
    ON [ TABLE ] tablename [, ...]
    TO { username | GROUP groupname | PUBLIC } [, ...] [ WITH GRANT OPTION ]
</pre></div>
</div>
<p>Seagai contoh, untuk memberikan izin pada ‘<strong>bob</strong>’ untuk memodifikasi tabel <strong>supplier</strong>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span> <span class="k">INSERT</span><span class="p">,</span> <span class="k">UPDATE</span><span class="p">,</span> <span class="k">DELETE</span> <span class="k">ON</span> <span class="k">TABLE</span> <span class="n">suppliers</span> <span class="k">TO</span> <span class="n">bob</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="latihan-terhubung-dengan-server-basisdata">
<h3>Latihan: Terhubung dengan server basisdata<a class="headerlink" href="#latihan-terhubung-dengan-server-basisdata" title="Permalink to this headline">¶</a></h3>
<p>Sebagai latihan, gunakan koneksi berikut untuk terhubung pada basisdata PostGIS yang tersimpan di Amazon Lightsail:</p>
<p>host: 54.254.9.31
port: 5432</p>
<p>user 1:</p>
<ul class="simple">
<li><p>username: view_only</p></li>
<li><p>password: ‘viewer’</p></li>
<li><p>role: pg_read_server_file</p></li>
</ul>
<p>user 2:</p>
<ul class="simple">
<li><p>username: editor_data</p></li>
<li><p>password: ‘editor’</p></li>
<li><p>role: pg_write_server_file</p></li>
</ul>
<p>user 3 (SUPERUSER):</p>
<ul class="simple">
<li><p>username: postgres</p></li>
<li><p>password: ‘postgres’</p></li>
</ul>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./sesi2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="relationaldb.html" title="previous page">Basisdata Relational</a>
    <a class='right-next' id="next-link" href="postgisquery.html" title="next page">Basisdata Spasial dengan PostGIS</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Dany Laksono<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.30270b6e4c972e43c488.js"></script>


    
  </body>
</html>