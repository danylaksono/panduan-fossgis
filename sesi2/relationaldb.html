
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Basisdata Relational &#8212; fossgis-enterprise</title>
    
  <link rel="stylesheet" href="../_static/css/index.d431a4ee1c1efae0e38bdfebc22debff.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.bfb7730f9caf2ec0b46a44615585038c.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.30270b6e4c972e43c488.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Administrasi Pengguna pada Basisdata" href="dbmanagement.html" />
    <link rel="prev" title="Pengantar Basisdata Relational" href="intrordbms.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">fossgis-enterprise</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <p class="caption">
 <span class="caption-text">
  Bagian I - Linux Server dan FOSS-GIS
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/introlinux.html">
   Pengantar Linux Server, FOSS-GIS dan Web Server
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/pengantarlinux.html">
   Pengantar Linux dan Server
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/arsitektur.html">
   Pengaturan dan Administrasi Linux
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/linuxserver.html">
   Linux sebagai Sistem Operasi Server
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi1/fossgis.html">
   Free and Open Source Software-GIS
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Bagian II - Relational Spatial Database
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="intrordbms.html">
   Pengantar Basisdata Relational
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Basisdata Relational
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dbmanagement.html">
   Administrasi Pengguna pada Basisdata
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="postgisquery.html">
   Basisdata Spasial dengan PostGIS
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Bagian III - Standar OGC untuk Interoperabilitas
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/introogc.html">
   Pengantar Interoperabilitas Data Spasial
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/interoperabilitas.html">
   Interoperabilitas dan Standar OGC
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/publikasi.html">
   Publikasi Data Spasial dengan Geoserver
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sesi3/konsumsiogc.html">
   Konsumsi Data dengan Standar OGC
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Buku ini disusun menggunakan <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/sesi2/relationaldb.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pemodelan-data-pada-basisdata-relasional">
   Pemodelan data pada Basisdata Relasional
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pengantar-basisdata-relational">
   Pengantar Basisdata Relational
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beberapa-istilah-pada-basisdata-relasional">
     Beberapa istilah pada Basisdata Relasional
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#relasi-pada-basisdata-relasional">
     Relasi pada basisdata relasional
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operasi-pada-basisdata-relasional">
     Operasi pada Basisdata Relasional
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#structured-query-language-sql">
   Structured Query Language (SQL)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bahasa-sql">
     Bahasa SQL
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#menggunakan-query-untuk-menanyakan-pertanyaan-pada-basisdata">
     Menggunakan Query untuk menanyakan pertanyaan pada Basisdata
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ddl-dml-dcl-dan-tcl">
     DDL, DML, DCL dan TCL
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#instalasi-dan-pengaturan-basisdata-postgresql">
   Instalasi dan Pengaturan Basisdata PostgreSQL
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#latihan-instalasi-dan-pengaturan-docker">
     Latihan: Instalasi dan Pengaturan Docker
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#latihan-memulai-docker-untuk-postgis">
     Latihan: Memulai Docker untuk PostGIS
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#menggunakan-query-sql-pada-basisdata">
   Menggunakan Query SQL pada Basisdata
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#latihan-menggunakan-psql-untuk-melakukan-query-sederhana">
     Latihan: Menggunakan
     <code class="docutils literal notranslate">
      <span class="pre">
       psql
      </span>
     </code>
     untuk melakukan query sederhana
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#latihan-menggunakan-pgadmin-sebagai-gui-basisdata-postgresql">
     Latihan: Menggunakan pgAdmin sebagai GUI Basisdata PostgreSQL
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="basisdata-relational">
<h1>Basisdata Relational<a class="headerlink" href="#basisdata-relational" title="Permalink to this headline">¶</a></h1>
<p>Basisdata relational merupakan salah satu model basisdata pada DBMS (Database Management System). Model Relasional banyak digunakan sejak tahun 90an hingga saat ini karena berbagai kelebihannya dalam memanajemen data dalam jumlah besar. Pada bagian ini akan dibahas mengenai basisdata relasional, khususnya PostgreSQL.</p>
<div class="section" id="pemodelan-data-pada-basisdata-relasional">
<h2>Pemodelan data pada Basisdata Relasional<a class="headerlink" href="#pemodelan-data-pada-basisdata-relasional" title="Permalink to this headline">¶</a></h2>
<p>Kita ambil sebuah contoh untuk kasus penanggulangan kebencanaan: anda ditugaskan oleh pimpinan anda untuk melakukan inventarisasi data yang diperoleh dari hasil pemetaan akibat bencana banjir di suatu daerah. Anda misalnya berurusan dengan data-data jumlah pengungsi dari masing-masing desa, kerusakan pada tiap desa, lokasi kantung-kantung pengungsian, kebutuhan tiap kepala, dan lain sebagainya. Apabila dinyatakan dalam bentuk tabel, data-data tersebut mungkin tampak seperti berikut:</p>
<p><img alt="" src="../_images/2020-12-03-08-07-09.png" /></p>
<p><img alt="" src="../_images/2020-12-03-08-07-21.png" /></p>
<p>Apabila suatu ketika Anda ditanya, ‘<em>Dari mana saja asal pengungsi di Posko A</em>?’, apa jawaban yang akan anda berikan? Apa yang akan anda lakukan untuk memperoleh jawaban yang diinginkan?	
Pertama-tama, Anda mungkin akan melihat pada masing-masing tabel, kemudian mencari informasi yang sesuai pada tiap tabel tersebut. Tentunya hal ini mudah dilakukan apabila data yang disediakan cukup sedikit. Bagaimana jika data yang ada berjumlah ratusan atau bahkan mungkin ribuan data?</p>
<p>Di sinilah peranan <strong>Basisdata</strong>. Sebuah sistem basisdata menghubungkan kumpulan data menjadi sebuah sistem yang terintegrasi. Dapat dikatakan, basisdata merupakan kumpulan dari tabel-tabel yang saling terhubung. Dengan menggunakan basisdata, Anda dapat mengambil data dari suatu tabel berdasarkan data dari tabel yang lain.</p>
<p>Gambaran umum sebuah basisdata adalah <em>sekumpulan tabel yang saling terhubung</em>. Hubungan antar tabel ini dapat dilakukan dengan berbagai macam cara. Salah satunya adalah dengan menggunakan cara yang Anda lihat pada contoh tabel-tabel di atas.</p>
</div>
<div class="section" id="pengantar-basisdata-relational">
<h2>Pengantar Basisdata Relational<a class="headerlink" href="#pengantar-basisdata-relational" title="Permalink to this headline">¶</a></h2>
<p><strong>Sistem Manajemen Basis Data Relasional</strong> (RDBMS) adalah kumpulan program dan fungsi berbasis tabel yang menyediakan antarmuka antara pengguna dan aplikasi dan basis data, memberikan cara sistematis untuk membuat, memperbarui, menghapus, mengelola, dan mengambil data. Sebagian besar sistem manajemen database relasional menggunakan bahasa pemrograman SQL untuk mengakses database dan banyak yang mengikuti properti <em>ACID (Atomicity, Consistency, Isolation, Durability)</em> dari database:</p>
<ul class="simple">
<li><p><strong>Atomicity</strong>: Jika ada pernyataan dalam transaksi yang gagal, seluruh transaksi gagal dan database dibiarkan tidak berubah.</p></li>
<li><p><strong>Consistency</strong>: Transaksi harus memenuhi semua protokol yang ditentukan oleh sistem - tidak ada transaksi yang diselesaikan sebagian.</p></li>
<li><p><strong>Isolation</strong>: Tidak ada transaksi yang memiliki akses ke transaksi lain yang belum selesai. Setiap transaksi bersifat independen.</p></li>
<li><p><strong>Durability</strong>: Setelah transaksi dilakukan, transaksi akan tetap dilakukan melalui penggunaan log transaksi dan cadangan.</p></li>
</ul>
<p>c</p>
<p>Basisdata relasional menyimpan data (entitas dunia nyata) dalam bentuk tabel serta menyediakan cara yang efisien, intuitif, dan fleksibel untuk menyimpan dan mengakses informasi pada tabel tersebut secara terstruktur. Tabel pada basisdata relasional juga dikenal sebagai <strong>relasi</strong>, terdiri dari kolom yang berisi satu atau lebih kategori data; dan baris, juga dikenal sebagai <em>record</em>, berisi sekumpulan data yang ditentukan oleh kategori.</p>
<p>Aplikasi Database Management System/DBMS (seperti PostgreSQL) mengakses data dengan menentukan <strong>kueri</strong>, yang menggunakan operasi untuk mengidentifikasi atribut, memilih <em>tuples</em>, dan menentukan relasi pada data. Model relasional untuk manajemen basis data dikembangkan oleh ilmuwan komputer IBM Edgar F. Codd pada tahun 1970.</p>
<div class="section" id="beberapa-istilah-pada-basisdata-relasional">
<h3>Beberapa istilah pada Basisdata Relasional<a class="headerlink" href="#beberapa-istilah-pada-basisdata-relasional" title="Permalink to this headline">¶</a></h3>
<p>Sebagai review, berikut adalah beberapa istilah yang dikenal pada basisdata relasional:</p>
<ul class="simple">
<li><p><strong>Tabel</strong>: Merupakan struktur penyimpanan dasar dari basis data objek relasional, terdiri dari satu atau lebih kolom (column) dan nol atau lebih baris (row).</p></li>
<li><p><strong>Row (baris)</strong>: Baris merupakan kombinasi dari nilai-nilai kolom dalam tabel; sebagai contoh, informasi tentang suatu departemen pada tabel ‘Departemen’. Baris seringkali disebut dengan record atau tuple.</p></li>
<li><p><strong>Column (kolom)</strong>: Kolom menggambarkan jenis data pada tabel; Kolom di definisikan dengan nama kolom dan tipe data beserta panjang data tertentu.</p></li>
<li><p><strong>Field</strong>: Field merupakan pertemuan antara baris dan kolom. Sebuah field menggambarkan satu keterangan mengenai data. Jika pada suatu field tidak terdapat data, maka field tersebut dikatakan memiliki nilai “null” atau kosong.</p></li>
<li><p><strong>Primary key</strong>: Primary key atau kunci utama merupakan kolom atau kumpulan kolom yang secara unik membedakan antara baris yang satu dengan lainnya; Kolom yang merupakan primary key ini tidak boleh mengandung nilai “null”, dan nilainya harus unik (berbeda antara baris satu dengan lainnya).</p></li>
<li><p><strong>Foreign key</strong>: Foreign key atau kunci tamu merupakan kolom atau kumpulan kolom yang mengacu ke primary key pada tabel yang sama atau tabel lain. Foreign key ini dibuat untuk memaksakan aturan-aturan relasi pada basis data. Nilai data dari foreign key harus sesuai dengan nilai data pada kolom dari tabel yang diacunya atau bernilai “null”.</p></li>
<li><p><strong>Relasi</strong> merupakan interaksi antara tabel yang menunjukkan hubungan antara objek-objek yang ada di dunia nyata. Relasi menyatakan hubungan antar tabel sebagai model dari dunia nyata.</p></li>
</ul>
<div class="figure align-default" id="table">
<a class="reference internal image-reference" href="../_images/2020-12-03-06-57-27.png"><img alt="../_images/2020-12-03-06-57-27.png" src="../_images/2020-12-03-06-57-27.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 19 </span><span class="caption-text">Tabel atau relasi pada Basisdata Relational</span><a class="headerlink" href="#table" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="relasi-pada-basisdata-relasional">
<h3>Relasi pada basisdata relasional<a class="headerlink" href="#relasi-pada-basisdata-relasional" title="Permalink to this headline">¶</a></h3>
<p>Jika kita pahami bahwa entitas dunia nyata dimodelkan sebagai sebuah <strong>relasi</strong> (atau tabel) pada basisdata relasional, maka hubungan antar entitas tersebut di dunia nyata juga dapat kita modelkan. Pada sebuah basisdata relasional, hubungan antar entitas dapat disederhanakan menjadi tiga bentuk saja: One to One, One to Many dan Many to Many. Berikut adalah model relasi pada sebuah basisdata relasional<a class="footnote-reference brackets" href="#footnote7" id="id1">1</a> tersebut:</p>
<ol>
<li><p><strong>One to One (1 to 1)</strong>
Relasi database model ini terjadi apalabila sebuah data terdapat pada 2 buah tabel, dan hanya diperbolehkan satu data saja pada masing masing tabel (<em>unique record</em>), sama halnya seperti <em>primary key</em>, record yang ada pada model ini tidak boleh ada yang sama.</p>
<p><img alt="" src="../_images/2020-12-03-08-08-58.png" /></p>
<p>Dalam bentuk tabel relasional, hasilnya adalah seperti ini:</p>
<p><img alt="" src="../_images/2020-12-07-23-39-22.png" /></p>
</li>
<li><p><strong>One to Many (1 to n)</strong>
Relasi database model  ini membolehkan data yang sama pada tabel kedua, tapi hanya membolehkan data yang bersifat unique (unik) pada tabel pertama. Jadi pada model tabel kedua boleh memiliki beberapa data yang sama.
<img alt="" src="../_images/2020-12-03-08-10-30.png" /></p>
<p>Dalam bentuk tabel:
<img alt="" src="../_images/2020-12-03-08-09-58.png" /></p>
</li>
<li><p><strong>Many to many (n to m)</strong>
Berbeda dengan kedua model diatas, relasi database model ini membolehkan beberapa data yang sama baik pada tabel pertama maupun tabel kedua. Dengan demikian tidak ada unique record di kedua tabel tersebut.
<img alt="" src="../_images/2020-12-03-08-11-05.png" /></p>
<p>Dalam bentuk tabel:
<img alt="" src="../_images/2020-12-03-08-11-15.png" /></p>
</li>
</ol>
<p>Apabila kita gambarkan hubungan yang kompleks antar semua entitas pada basisdata, kita akan memperoleh sebuah diagram yang disebut dengan <strong>Diagram Entity Relationship (Diagram ER)</strong>.</p>
</div>
<div class="section" id="operasi-pada-basisdata-relasional">
<h3>Operasi pada Basisdata Relasional<a class="headerlink" href="#operasi-pada-basisdata-relasional" title="Permalink to this headline">¶</a></h3>
<p>Apabila kita menganggap basisdata sebagai sebuah kumpulan dari entitas yang saling terhubung, maka seperti halnya sebuah bilangan matematika, kita dapat menggunakan berbagai operasi pada entitas ini untuk memperoleh jawaban dari pertanyaan yang kita ajukan. Codd sendiri awalnya mendefinisikan delapan operasi berbeda, yang kemudian disebut dengan <a class="reference external" href="https://www.geeksforgeeks.org/introduction-of-relational-algebra-in-dbms/">Relational Algebra</a>. Relational Algebra merupakan bahasa prosedural yang menggunakan operator <em>unary</em> atau <em>binary</em> pada relasi atau tabel. Hasil dari Aljabar relasional ini adalah sebuah tabel lain yang menggambarkan hubungan dari kedua entitas.</p>
<div class="figure align-default" id="relag">
<a class="reference internal image-reference" href="../_images/2020-12-08-00-41-03.png"><img alt="../_images/2020-12-08-00-41-03.png" src="../_images/2020-12-08-00-41-03.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 20 </span><span class="caption-text">Relational Algebra pada Basisdata Relational</span><a class="headerlink" href="#relag" title="Permalink to this image">¶</a></p>
</div>
<p>Pada sebuah RDBMS, operasi aljabar relasional ini diwujudkan menggunakan bahasa SQL, seperti yang akan dibahas sebagai berikut.</p>
</div>
</div>
<div class="section" id="structured-query-language-sql">
<h2>Structured Query Language (SQL)<a class="headerlink" href="#structured-query-language-sql" title="Permalink to this headline">¶</a></h2>
<p>Apabila Anda menggunakan komputer untuk membuat basisdata pada contoh di awal bab ini, Anda akan dengan cepat menjawab pertanyaan yang diajukan sebelumnya. Apabila Anda mencari: ‘<em>Darimana saja asal pengungsi di posko A</em>?’, maka komputer akan langsung melihat tabel <strong>Posko Pengungsi</strong> untuk melihat nomor identifikasi masing-masing posko pengungsian, kemudian mencocokkannya dengan tabel **Asal Pengungsi **untuk melihat Desa apa saja yang ada di sana. Sekarang, bagaimana kita menanyakan pertanyaan seperti ini kepada komputer?</p>
<p>Bagaimana kita membuat suatu sistem basisdata dan mengajukan pertanyaan (pertanyaan=‘QUERY’) kepada komputer agar kita memperoleh data yang kita inginkan? Untuk itulah kita akan mempelajari mengenai bahasa <strong>SQL (Structured Query Language)</strong>. Bahasa inilah yang akan kita gunakan untuk ‘bertanya’ atau mengajukan ‘query’ kepada komputer. Kita juga menggunakan bahasa SQL untuk menyelesaikan berbagai macam operasi pada aljabar relasional yang kita gunakan untuk mendapatkan jawaban dari pertanyaan yang kita inginkan.</p>
<div class="section" id="bahasa-sql">
<h3>Bahasa SQL<a class="headerlink" href="#bahasa-sql" title="Permalink to this headline">¶</a></h3>
<p><strong>SQL</strong> merupakan serangkaian perintah yang kita gunakan untuk membuat dan melakukan manajemen terhadap suatu basisdata di komputer. Misalnya, untuk membuat sebuah tabel seperti ini:</p>
<p><img alt="" src="../_images/2020-12-03-08-18-49.png" /></p>
<p>Dalam bahasa SQL akan tertulis seperti ini:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">Anggota</span> 
	<span class="p">(</span>
	<span class="n">No_id</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
	<span class="n">nama</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
	<span class="n">jenis_kelamin</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
	<span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">anggota</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;21451&#39;</span><span class="p">,</span> <span class="s1">&#39;Budi Darmawan&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">anggota</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;21569&#39;</span><span class="p">,</span> <span class="s1">&#39;Anggi Lestari&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">anggota</span> <span class="k">VALUES</span> <span class="p">(</span><span class="s1">&#39;21584&#39;</span><span class="p">,</span> <span class="s1">&#39;Joko Anantoko&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">);</span>
<span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">no_id</span><span class="p">;</span>
</pre></div>
</div>
<p>Berikut adalah penjelasan beberapa perintah dasar di atas:</p>
<p> </p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">Anggota</span> <span class="p">(</span>
</pre></div>
</div>
<p> </p>
<ul class="simple">
<li><p><strong>CREATE TABLE</strong>  <br />
Fungsi dari perintah ini adalah untuk membuat sebuah tabel baru, yang tentu saja isinya masih kosong. Untuk mengisi tabel yang baru dibuat ini kita gunakan perintah INSERT INTO dan VALUES seperti yang akan dijelaskan di bawah.</p></li>
<li><p><strong>Anggota</strong>  <br />
Adalah nama/judul dari tabel pertama yang akan kita buat pada basisdata ini. Judul tabel ini merupakan variable, artinya, Anda dapat menggunakan nama apapun yang Anda inginkan, asalkan merupakan satu buah kata (kita lihat, tanda spasi pada kata-kata ‘bidang tanah’ diganti dengan tanda underscore/garis bawah. Ini untuk menjaga variable tersebut hanya merupakan satu kata).</p></li>
</ul>
<p> </p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span> <span class="n">No_id</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
 <span class="n">nama</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
 <span class="n">jenis_kelamin</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p> </p>
<ul class="simple">
<li><p><strong>No_id, Nama dan Jenis_kelamin</strong>  <br />
No_id merupakan nama kolom pertama yang kita isikan (lihat tabel pada contoh di atas agar lebih jelas). No_id ini adalah kolom yang akan kita fungsikan untuk memuat identitas unik masing-masing orang. Demikian pula, Nama dan Jenis_kelamin merupakan nama-nama kolom yang kita buat pada tabel anggota yang akan kita isi dengan keterangan-keterangan yang kita inginkan.</p></li>
<li><p><strong>Tipe Data</strong>  <br />
INTEGER dan VARCHAR yang anda gunakan pada baris-baris perintah tadi berfungsi untuk menjelaskan tipe data dari kolom yang Anda buat. Berikut beberapa tipe data yang dapat anda gunakan:</p>
<ul>
<li><p>INTEGER		: Menyatakan data berupa bilangan bulat. Panjang data yang dapat dimuat adalah antara -2147483648 sampai 2147483647.</p></li>
<li><p>FLOAT		: Menyatakan data berupa bilangan desimal</p></li>
<li><p>VARCHAR	: Menyatakan sembarang karakter (huruf, angka, atau karakter yang lain). Apabila anda menambahkan bilangan dalam tanda kurung di belakangnya, misalnya VARCHAR(2), artinya anda membatasi maksimal hanya 2 karakter yang akan ditampilkan, tidak boleh lebih.</p></li>
<li><p>TEXT		: Menampilkan baris teks. Bedanya dengan tipe data character adalah panjang data yang bisa ditampung. Anda bisa memasukkan beberapa baris kalimat pada tipe data ini.</p></li>
<li><p>DATE		: Memasukkan tanggal ke dalam kolom</p></li>
<li><p>BOOLEAN	: Apabila anda memilih tipe data ini untuk sebuah kolom, artinya kolom tersebut hanya bisa memliki dua macam nilai: ‘TRUE’ atau ‘FALSE’. Biasanya tipe data ini digunakan untuk menyatakan pilihan.
Perhatikan bahwa tiap kali anda membuat sebuah kolom, anda harus memisahkannya dengan baris perintah selanjutnya menggunakan tanda koma (,). Ini adalah salah satu aturan penulisan pada bahasa SQL.</p></li>
</ul>
</li>
</ul>
<p> </p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">no_id</span><span class="p">;</span>
</pre></div>
</div>
<p> </p>
<ul class="simple">
<li><p><strong>PRIMARY KEY</strong>  <br />
Pada baris perintah ini, kita memberi tahu komputer bahwa kolom No_id akan kita jadikan sebagai PRIMARY KEY. Primary key adalah kolom yang akan kita gunakan sebagai penghubung dengan tabel lain. Dalam hal ini, data yang berada pada kolom no_id haruslah bersifat unik. Artinya, data-data pada kolom ini harus berbeda antara satu dengan yang lainnya.</p></li>
</ul>
</div>
<div class="section" id="menggunakan-query-untuk-menanyakan-pertanyaan-pada-basisdata">
<h3>Menggunakan Query untuk menanyakan pertanyaan pada Basisdata<a class="headerlink" href="#menggunakan-query-untuk-menanyakan-pertanyaan-pada-basisdata" title="Permalink to this headline">¶</a></h3>
<p>Di atas kita telah melihat penjelasan bagaimana bahasa SQL digunakan untuk membuat sebuah tabel baru. Pada bagian ini kita akan menanyakan beberapa pertanyaan pada tabel tersebut.</p>
<p>Sekarang, dengan menggunakan tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code> di atas sebagai acuan, kita dapat menanyakan pertanyaan berikut:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">anggota</span>
</pre></div>
</div>
<p>SELECT dan FROM pada baris perintah di atas digunakan untuk menampilkan isi dari tabel yang dipanggil (pada contoh adalah tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code>). Tanda asterisk (*) di atas digunakan untuk menampilkan keseluruhan data pada semua kolom di tabel tersebut. Apabila anda memanggil perintah tersebut pada sebuah perangkat lunak basisdata (seperti PostgreSQL yang akan kita pelajari nanti), maka perintah tersebut akan menampilkan seluruh isi tabel anggota.</p>
<p>Perintah tersebut akan menampilkan semua isi kolom nama pada tabel anggota, seperti berikut:</p>
<p><img alt="" src="../_images/2020-12-03-08-22-22.png" /></p>
<p>Apabila anda hanya ingin menampilkan satu baris tertentu, Anda dapat menggunakan perintah WHERE:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">anggota</span> <span class="k">WHERE</span> <span class="n">No_id</span> <span class="o">=</span> <span class="mi">21451</span>
</pre></div>
</div>
<p>hasilnya:</p>
<p><img alt="" src="../_images/2020-12-03-08-23-12.png" /></p>
<p>Apa keluaran dari bahasa SQL berikut?</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>SELECT nama FROM anggota WHERE jenis_kelamin = ‘L’
</pre></div>
</div>
<p>Sebuah perintah SQL dapat menjadi sangat kompleks: semakin rumit informasi yang ingin kita peroleh, semakin banyak relasi yang terlibat, maka akan semakin rumit pula Query yang harus kita ajukan. Meskipun demikian, SQL dapat memperoleh informasi yang cukup rumit hanya dengan beberapa perintah sederhana, sehingga sangat ideal untuk keperluan analisis data dalam jumlah besar, khususnya data spasial.</p>
</div>
<div class="section" id="ddl-dml-dcl-dan-tcl">
<h3>DDL, DML, DCL dan TCL<a class="headerlink" href="#ddl-dml-dcl-dan-tcl" title="Permalink to this headline">¶</a></h3>
<p>Kita telah melihat beberapa perintah SQL yang dapat digunakan untuk ‘bertanya’ pada basisdata menggunakan Query tertentu. Perintah (<em>command</em>) dalam bahasa SQL seperti yang disebutkan di atas dapat dikelompokkan menjadi empat kelompok besar: <em>Data Definition Language</em> (DDL), <em>Data Manipulation Language</em> (DML), <em>Data Control Language</em> (DCL) dan <em>Transaction Control Language</em> (TCL). Keempat jenis perintah ini membagi bahasa SQL ke dalam jenis operasi yang dilakukan:</p>
<div class="figure align-default" id="ddl">
<a class="reference internal image-reference" href="../_images/2020-12-08-00-54-04.png"><img alt="../_images/2020-12-08-00-54-04.png" src="../_images/2020-12-08-00-54-04.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 21 </span><span class="caption-text">Perintah dalam bahasa SQL</span><a class="headerlink" href="#ddl" title="Permalink to this image">¶</a></p>
</div>
<p>Berikut penjelasan untuk tiap operasi:</p>
<ul>
<li><p><em>Data Definition Language</em> (DDL)</p>
<p>Perintah yang dikelompokkan sebagai DDL digunakan pada saat pembuatan skema dan pendefinisian basisdata, serta bagaimana data disimpan pada basidata.</p>
<ul class="simple">
<li><p>CREATE - Digunakan untuk membuat basisdata baru serta objek-objek yang terdapat di dalamnya (TABLE, INDEX, VIEW, FUNCTION, dan sebagainya)</p></li>
<li><p>ALTER - Merubah struktur basidata dan objek di dalamnya</p></li>
<li><p>DROP - Menghapus basisdata atau objek di dalamnya</p></li>
<li><p>TRUNCATE - Menghapus semua <em>record</em> pada basisdata</p></li>
<li><p>RENAME - Mengganti nama sebuah objek basisdata</p></li>
</ul>
</li>
<li><p><em>Data Manipulation Language</em> (DML)</p>
<p>DML terdiri dari sebagian besar perintah yang kita gunakan pada sebuah basisdata. DML berkaitan dengan manipulasi data dan objek pada basisdata, termasuk untuk menyimpan, memodifikasi, mengambil data, menghapus dan memperbarui data pada basisdata.</p>
<ul class="simple">
<li><p>SELECT - Digunakan untuk memilih dan mengambil data dari basisdata berdasarkan kriteria tertentu</p></li>
<li><p>INSERT - Digunakan untuk memasukkan data ke dalam relasi</p></li>
<li><p>UPDATE - Memungkinkan pengubahan nilai dari beberapa atribut dalam tupel yang ada.</p></li>
<li><p>DELETE - Digunakan untuk menghapus tupel dari tabel.</p></li>
<li><p>MERGE - Menggabungkan data baru pada data yang sudah ada</p></li>
</ul>
<p>Penggunaan tiap perintah di atas akan dikontrol oleh CONSTRAINT yang telah ditetapkan pada relasi atau basisdata tersebut. Contoh konstrain yang diterapkan pada basisdata adalah pembatasan tipe data pada kolom sebuah tabel.</p>
<p>Berikut adalah contoh dari penggunaan perintah DML:</p>
<p><strong>Insert Operation</strong></p>
<p>Operasi Insert menambahkan data baru pada sebuah tabel sesuai dengan kolom yang tersedia</p>
<p><img alt="" src="../_images/2020-12-03-07-21-13.png" /></p>
<p><strong>Update Operation</strong></p>
<p>Pada tabel di bawah, status <code class="docutils literal notranslate"><span class="pre">CustomerName=Apple</span></code> berubah dari <code class="docutils literal notranslate"><span class="pre">inactive</span></code> menjadi <code class="docutils literal notranslate"><span class="pre">active</span></code></p>
<p><img alt="" src="../_images/2020-12-03-07-21-29.png" /></p>
<p><strong>Delete Operation</strong>
Pada operasi penghapusan, suatu kriteria diberikan melalui Query untuk
<img alt="" src="../_images/2020-12-03-07-21-44.png" /></p>
<p><strong>Select Operation</strong></p>
<p>Operasi berikut memilih Customer dengan nama “Amazon”
<img alt="" src="../_images/2020-12-03-07-22-43.png" /></p>
</li>
<li><p><em>Data Control Language</em> (DCL)</p>
<p>Perintah pada DCL sebagian besar terkait dengan pemberian hak, permission, dan pengaturan kontrol lain pada basisdata.</p>
<ul class="simple">
<li><p>GRANT - Memberikan hak dan izin (<em>Priviledges</em>) kepada pengguna untuk mengakses sebuah basisdat</p></li>
<li><p>REVOKE - Menghilangkan hak pada pengguna</p></li>
</ul>
</li>
<li><p><em>Transaction Control Language</em> (TCL)</p>
<p>TCL digunakan untuk mengatur transaksi pada sebuah basisdata, yaitu:</p>
<ul class="simple">
<li><p>COMMIT - menyimpan operasi transaksi</p></li>
<li><p>ROLLBACK - kembali pada rekaman transaksi sebelumnya pada saat terjadi kesalahan</p></li>
<li><p>SET TRANSACTION - mendefinisikan karakteristik transaksi</p></li>
</ul>
</li>
</ul>
<p>Setelah ini, kita akan menggunakan PostgreSQL untuk melakukan Query menggunakan Bahasa SQL. Terlebih dahulu lakukan instalasi sesuai dengan panduan yang diberikan sebagai berikut.</p>
</div>
</div>
<div class="section" id="instalasi-dan-pengaturan-basisdata-postgresql">
<h2>Instalasi dan Pengaturan Basisdata PostgreSQL<a class="headerlink" href="#instalasi-dan-pengaturan-basisdata-postgresql" title="Permalink to this headline">¶</a></h2>
<p>PostgreSQL merupakan perangkat lunak yang digunakan untuk melakukan manajemen basisdata, sedangkan PostGIS merupakan perangkat lunak tambahan (‘Plugin’) pada PostgreSQL yang digunakan untuk menambahkan fungsi keruangan (spasial) pada PostgreSQL. Pada bagian ini diuraikan cara membuat basisdata dengan menggunakan PostgreSQL/PostGIS, dengan lebih dahulu membahas mengenai instalasi PostgreSQL dan PostGIS menggunakan Docker.</p>
<div class="section" id="latihan-instalasi-dan-pengaturan-docker">
<h3>Latihan: Instalasi dan Pengaturan Docker<a class="headerlink" href="#latihan-instalasi-dan-pengaturan-docker" title="Permalink to this headline">¶</a></h3>
<p>Pada latihan ini akan dibahas mengenai instalasi Docker. Docker nantinya akan kita gunakan sebagai Container untuk mempermudah instalasi PostgreSQL dan PostGIS. Arsitektur Docker adalah sebagai berikut:</p>
<p><img alt="" src="../_images/2020-12-03-08-27-49.png" /></p>
<p>Langkah berikut merujuk pada <a class="reference external" href="https://docs.docker.com/engine/install/ubuntu/">Panduan Resmi Instalasi Docker</a>:</p>
<ol>
<li><p>Lakukan update, kemudian lakukan instalasi beberapa dependencies untuk Docker</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install <span class="se">\</span>
 apt-transport-https <span class="se">\</span>
 ca-certificates <span class="se">\</span>
 curl <span class="se">\</span>
 gnupg-agent <span class="se">\</span>
 software-properties-common
</pre></div>
</div>
</li>
<li><p>Tambahkan GPG official untuk Docker:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class="p">|</span> sudo apt-key add -
</pre></div>
</div>
</li>
<li><p>Periksa  fingerprint untuk GPG yang telah ditambahkan ke Ubuntu</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-key fingerprint 0EBFCD88
</pre></div>
</div>
</li>
<li><p>Tambahkan repository baru. Docker memiliki repository tersendiri sehingga perlu memberi tahu apt untuk mengambil instalasi dari repository ini:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo add-apt-repository <span class="se">\</span>
 <span class="s2">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \</span>
<span class="s2"> </span><span class="k">$(</span>lsb_release -cs<span class="k">)</span><span class="s2"> \</span>
<span class="s2"> stable&quot;</span>
</pre></div>
</div>
</li>
<li><p>Update kembali apt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io
</pre></div>
</div>
</li>
<li><p>Uji apakah docker sudah berhasil diinstall</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo docker run hello-world
</pre></div>
</div>
</li>
<li><p>Memasukkan user ke dalam grup <code class="docutils literal notranslate"><span class="pre">docker</span></code>. <a class="reference external" href="https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user">Langkah ini</a> perlu untuk menghilangkan <code class="docutils literal notranslate"><span class="pre">sudo</span></code> pada perintah untuk memanggil docker.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo usermod -aG docker <span class="nv">$USER</span>
newgrp docker 
</pre></div>
</div>
</li>
</ol>
<div class="admonition-catatan admonition">
<p class="admonition-title">Catatan</p>
<p>Docker memerlukan Systemd untuk menjalankan servicenya, sama seperti Tomcat pada materi sebelumnya. Untuk itu, apabila muncul pesan kesalahan terkait <code class="docutils literal notranslate"><span class="pre">systemd</span></code> atau <code class="docutils literal notranslate"><span class="pre">systemctl</span></code> pada WSL, coba kembali langkah-langkah untuk mengkoreksi system seperti yang telah disebutkan sebelumnya.</p>
</div>
<p>Setelah instalasi Docker berhasil, selanjutnya adalah menggunakan Docker untuk melakukan instalasi Image untuk PostGIS. Image adalah paket aplikasi yang dibuat oleh developer untuk memuat serangkaian perintah dan dapat diduplikasi oleh siapapun yang menghendaki. Image pada Docker tersimpan pada Docker Hub sebagai satu repository tempat Image dibagikan:</p>
<p><img alt="" src="../_images/2020-12-03-08-36-24.png" /></p>
</div>
<div class="section" id="latihan-memulai-docker-untuk-postgis">
<h3>Latihan: Memulai Docker untuk PostGIS<a class="headerlink" href="#latihan-memulai-docker-untuk-postgis" title="Permalink to this headline">¶</a></h3>
<p>Untuk keperluan latihan ini kita akan menggunakan Image PostGIS yang dibuat oleh <a class="reference external" href="https://github.com/kartoza/docker-postgis">Kartoza</a>. Sebenarnya, terdapat banyak Image yang sudah dibuat oleh banyak developer. Kita dapat mencari Image terkait PostGIS menggunakan perintah ‘search’ pada Docker:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker search postgis
</pre></div>
</div>
<p>hasilnya:</p>
<p><img alt="" src="../_images/2020-12-03-08-39-33.png" /></p>
<p>Image PostGIS yang dibuat oleh tim Kartoza dapat dijumpai pada Docker Hub sebagai berikut:
https://hub.docker.com/r/kartoza/postgis/</p>
<p>Berikut adalah langkah instalasi Image PostGIS dengan Docker <a class="footnote-reference brackets" href="#footnote6" id="id2">2</a>:</p>
<ol>
<li><p>Membuat Persistance Volume.
Persistance Volume digunakan agar Docker menyimpan berkas pada lokasi yang dapat diakses, yaitu pada mesin WSL. Berikut perintahnya:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker volume create pg_data
</pre></div>
</div>
</li>
<li><p>Untuk menginstall PostGIS kita gunakan perintah berikut:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run --name<span class="o">=</span>postgis -d -e <span class="nv">POSTGRES_USER</span><span class="o">=</span>postgres -e <span class="nv">POSTGRES_PASS</span><span class="o">=</span>postgres -e <span class="nv">POSTGRES_DBNAME</span><span class="o">=</span>gis -e <span class="nv">ALLOW_IP_RANGE</span><span class="o">=</span><span class="m">0</span>.0.0.0/0 -p <span class="m">5432</span>:5432 -v pg_data:/var/lib/postgresql --restart<span class="o">=</span>always kartoza/postgis:13.0
</pre></div>
</div>
<ul class="simple">
<li><p>docker run –name = postgis memberi tahu Docker bahwa container baru kami akan diberi nama postgis</p></li>
<li><p>-d menjalankan kontainer di latar belakang (mode terpisah)</p></li>
<li><p>-e POSTGRES_USER = postgres the -eflag menyetel variabel lingkungan di dalam penampung. Yang ini digunakan untuk mengonfigurasi nama peran login di PostgreSQL yang akan memiliki hak superuser (admin) di database. Anda dapat mengubah nama ini menjadi apa pun yang Anda inginkan.</p></li>
<li><p>-e POSTGRES_PASS = postgres menyetel variabel lingkungan yang akan menyetel kata sandi peran login menjadi `kata sandi. Anda dapat mengatur ini menjadi apa pun yang Anda inginkan.</p></li>
<li><p>-e POSTGRES_DBNAME = gis seperti yang bisa Anda tebak, variabel lingkungan memberi tahu container untuk membuat database baru di server dengan nama gis. Setelah database dibuat maka extension PostGIS akan diaktifkan di dalamnya.</p></li>
<li><p>-e ALLOW_IP_RANGE = 0.0.0.0 / 0 memberi tahu container untuk mengkonfigurasi PostgreSQL untuk menerima koneksi dari siapa pun. Jika Anda tidak mengatur ini maka database hanya akan menerima koneksi dari alamat menggunakan subnet jaringan Docker.</p></li>
<li><p>-p 5432: 5432 memetakan port 5432 pada VM host ke port 5432 pada container. Ini diperlukan karena server database mendengarkan koneksi pada port 5432 secara default.</p></li>
<li><p>-v pg_data: / var / lib / postgresql memberi tahu sistem file container untuk memasang volume pg_data yang baru saja kita buat ke jalur / var / lib / postgresql. Ini berarti bahwa data apa pun yang disimpan atau dibuat container di direktori itu akan disimpan dalam volume pg_data.</p></li>
<li><p>–restart = selalu membuat kebijakan restart untuk penampung Anda. Sekarang penampung Anda akan mulai setiap kali mesin virtual Docker dimulai. Jika ini tidak disetel, Anda harus memulai penampung secara manual setiap kali VM di-boot dengan docker start postgis</p></li>
<li><p>kartoza / postgis: 13.0 memberitahu Docker untuk menarik repositori kartoza / postgis dari Docker Hub, menggunakan PostgreSQL versi 9.6 dan PostGIS versi 2.4. Anda dapat melihat versi lain yang tersedia di <a class="reference external" href="https://hub.docker.com/r/kartoza/postgis/tags/?page=1&amp;ordering=last_updated">sini</a></p></li>
</ul>
</li>
<li><p>Tunggu sampai instalasi selesai. Periksa apakah mesin yang digunakan sudah menyala menggunakan perintah:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker ps
</pre></div>
</div>
</li>
</ol>
<p>Selanjutnya, PostGIS dan PostgreSQL siap untuk digunakan.</p>
<p><img alt="" src="../_images/2020-12-03-08-54-59.png" /></p>
<p> </p>
</div>
</div>
<div class="section" id="menggunakan-query-sql-pada-basisdata">
<h2>Menggunakan Query SQL pada Basisdata<a class="headerlink" href="#menggunakan-query-sql-pada-basisdata" title="Permalink to this headline">¶</a></h2>
<p>Untuk mengirimkan SQL pada Basisdata PostgreSQL dapat digunakan beberapa aplikasi antarmuka yang berbeda. <code class="docutils literal notranslate"><span class="pre">psql</span></code> dan <code class="docutils literal notranslate"><span class="pre">pgAdmin</span></code> barangkali merupakan antarmuka untuk basisdata PostgreSQL yang paling terkenal. Sejatinya, koneksi pada basisdata dapat dilakukan pada berbagai aplikasi, dengan syarat terdapat port dan host yang terbuka untuk melakukan koneksi pada PostgreSQL seperti yang akan kita lakukan nanti dengan QGIS. Untuk memulai, terlebih dahulu akan kita gunakan kedua aplikasi yang telah disebutkan di atas.</p>
<div class="section" id="latihan-menggunakan-psql-untuk-melakukan-query-sederhana">
<h3>Latihan: Menggunakan <code class="docutils literal notranslate"><span class="pre">psql</span></code> untuk melakukan query sederhana<a class="headerlink" href="#latihan-menggunakan-psql-untuk-melakukan-query-sederhana" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">psql</span></code> merupakan aplikasi untuk manajemen client postgreSQL. Dengan aplikasi ini, script SQL dapat dibuat melalui <em>command prompt</em>. Contohnya, koneksi pada basisdata dapat dilakukan sebagai berikut:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psql -d database -h host -U  user -W
</pre></div>
</div>
<p>Aplikasi ini tersedia bersama dengan instalasi PostgreSQL dan PostGIS yang sudah kita install menggunakan <strong>Docker Kartoza</strong>. Dalam hal ini, aplikasi ini sekarang tersimpan di dalam mesin Docker, dan bukan pada WSL, sehingga kita perlu melakukan <a class="reference external" href="https://github.com/gis-ops/tutorials/blob/postgrest-elevation-api/postgres/postgres_postgis_postgrest_installation.md">langkah tambahan</a> untuk melakukan akses tersebut:</p>
<ol>
<li><p>Masuk ke dalam Docker menggunakan perintah <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">exec</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker <span class="nb">exec</span> -it postgis bash
</pre></div>
</div>
</li>
<li><p>Install text editor, misalnya <strong>nano</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get update <span class="o">&amp;&amp;</span> apt-get install nano
</pre></div>
</div>
</li>
<li><p>Masuk ke folder instalasi PostgreSQL</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /etc/postgresql/13/main/
</pre></div>
</div>
</li>
<li><p>Dengan menggunakan <strong>nano</strong>, lakukan editing pada file <code class="docutils literal notranslate"><span class="pre">pg_hba.conf</span></code>. Ubah <code class="docutils literal notranslate"><span class="pre">peer</span></code> menjadi <code class="docutils literal notranslate"><span class="pre">trust</span></code> pada <strong>Database administrative login by Unix domain socket</strong> seperti berikut:
<img alt="" src="../_images/2020-12-03-12-40-15.png" /></p></li>
<li><p>Keluar dari mesin dan lakukan restart untuk kontainer PostGIS</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker restart postgis
</pre></div>
</div>
</li>
<li><p>Gunakan <code class="docutils literal notranslate"><span class="pre">psql</span></code> seperti berikut:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker <span class="nb">exec</span> -it postgis psql -U postgres
</pre></div>
</div>
<p>maka kita akan masuk ke shell untuk <code class="docutils literal notranslate"><span class="pre">psql</span></code>:
<img alt="" src="../_images/2020-12-03-12-43-10.png" /></p>
</li>
<li><p>Pada shell ini kita dapat langsung mengetikkan Query yang kita inginkan, misalnya:
<code class="docutils literal notranslate"><span class="pre">postgres=#</span> <span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">anggota;</span></code></p></li>
<li><p>Selain melalui konsol, kita juga dapat membuat query menggunakan <em>command</em>, seperti berikut:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="n">postgis</span> <span class="n">psql</span> <span class="o">-</span><span class="n">U</span> <span class="n">postgres</span> <span class="o">-</span><span class="n">d</span> <span class="n">latihan</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;SELECT * FROM anggota&#39;</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition-catatan admonition">
<p class="admonition-title">Catatan</p>
<p>Tentunya untuk kedua contoh SELECT di atas, basisdata <code class="docutils literal notranslate"><span class="pre">latihan</span></code> dan tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code> harus sudah tersedia terlebih dahulu.</p>
</div>
<p>Untuk latihan ini, coba gunakan query pada tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code> seperti di atas menggunakan <code class="docutils literal notranslate"><span class="pre">psql</span></code>, yaitu dari pembuatan tabel hingga mengajukan pertanyaan. Buat basisdata baru dengan nama <code class="docutils literal notranslate"><span class="pre">Latihan</span></code>, kemudian masukkan tabel <code class="docutils literal notranslate"><span class="pre">anggota</span></code>. Gunakan perintah-perintah DDL dan DML untuk membuat dan mengoperasikan basisdata ini melalui <code class="docutils literal notranslate"><span class="pre">psql</span></code>.</p>
<p>Daftar <a class="reference external" href="https://gist.github.com/Kartones/dd3ff5ec5ea238d4c546">perintah</a> untuk <code class="docutils literal notranslate"><span class="pre">psql</span></code> dapat dilihat pada:
https://www.postgresqltutorial.com/postgresql-cheat-sheet/.</p>
</div>
<div class="section" id="latihan-menggunakan-pgadmin-sebagai-gui-basisdata-postgresql">
<h3>Latihan: Menggunakan pgAdmin sebagai GUI Basisdata PostgreSQL<a class="headerlink" href="#latihan-menggunakan-pgadmin-sebagai-gui-basisdata-postgresql" title="Permalink to this headline">¶</a></h3>
<p>Pada bagian ini, <strong>pgAdmin4</strong> akan digunakan sebagai antarmuka untuk PostgreSQL. pgAdmin merupakan antarmuka PostgreSQL yang menyediakan GUI (<em>Graphical User Interface</em>) sehingga memudahkan untuk mengajukan Query, memanajemen basisdata, memonitor transaksi, dan seterusnya.</p>
<p>Terlebih dahulu unduh pgAdmin4 dari alamat berikut:
https://www.pgadmin.org/download/</p>
<p> <br />
Selanjutnya, lakukan instalasi pada sistem operasi Windows. Tampilan <strong>pgAdmin4</strong> setelah instalasi adalah sebagai berikut:
 <br />
<img alt="" src="../_images/2020-12-03-08-55-40.png" /></p>
<p> <br />
Koneksi dapat dilakukan pada basisdata melalui pgAdmin4 sebagai berikut. Klik kanan pada <code class="docutils literal notranslate"><span class="pre">Server</span></code>, kemudian pilih <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">Server</span></code>.</p>
<p><img alt="" src="../_images/2020-12-08-08-01-41.png" /></p>
<p>Masukkan nama dan parameter koneksi seperti contoh berikut:</p>
<p> <br />
<img alt="" src="../_images/2020-12-03-08-57-17.png" /></p>
<p> <br />
dimana <em>alamat host</em> adalah ip address yang digunakan oleh mesin Docker.
 </p>
<p> <br />
untuk mendapatkan alamat tersebut, gunakan perintah:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ip addr
</pre></div>
</div>
<p>kemudian lihat ip address untuk <code class="docutils literal notranslate"><span class="pre">eth0</span></code>. Alamat ini adalah alamat IP yang digunakan oleh Windows untuk berkomunikasi dengan WSL, sehingga kita dapat menggunakannya untuk terhubung dengan PostgreSQL. Pada kasus instalasi PostgreSQL langsung di mesin server, alamat yang dicari ini dapat dibuat cukup dengan menggunakan <code class="docutils literal notranslate"><span class="pre">localhost</span></code> saja. Diagram berikut menggambarkan bagaimana Windows terhubung pada WSL dengan menggunakan koneksi melalui IP Address yang dimaksud.</p>
<div class="figure align-default" id="table2">
<a class="reference internal image-reference" href="../_images/2020-12-03-09-00-55.png"><img alt="../_images/2020-12-03-09-00-55.png" src="../_images/2020-12-03-09-00-55.png" style="height: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 22 </span><span class="caption-text">Koneksi pada WSL</span><a class="headerlink" href="#table2" title="Permalink to this image">¶</a></p>
</div>
<p>Setelah terhubung, PostgreSQL akan menampilkan beberapa menu yang dapat digunakan untuk melakukan manajemen basisdata. Untuk melakukan Query pada basisdata tertentu, klik pada basisdata tersebut, kemudian gunakan menu <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">Tool</span></code> untuk membuat query terhadap basisdata ini.</p>
<p><img alt="" src="../_images/2020-12-08-08-04-07.png" /></p>
<p>Perintah SQL seperti yang kita sebutkan di atas dapat digunakan pada jendela Query yang tersedia.</p>
<p><img alt="" src="../_images/2020-12-08-08-05-07.png" /></p>
<div class="admonition-catatan admonition">
<p class="admonition-title">Catatan</p>
<p>Mesin Docker PostGIS yang kita panggil pada WSL akan tetap berjalan sampai kita matikan. Untuk memeriksa mesin apa saja yang sedang berjalan, kita dapat gunakan:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker ps
</pre></div>
</div>
</div>
<p>Maka Docker akan menampilkan daftar mesin yang sedang berjalan. Untuk menghentikan semua mesin, kita gunakan perintah:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker stop <span class="k">$(</span>docker ps -aq<span class="k">)</span>
</pre></div>
</div>
<p>dan untuk memulai kembali mesin tersebut, cukup panggil dengan menggunakan:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker start postgis
</pre></div>
</div>
<p>dimana <code class="docutils literal notranslate"><span class="pre">postgis</span></code> adalah nama mesin yang kita definisikan menggunakan parameter <code class="docutils literal notranslate"><span class="pre">--name</span></code> pada saat memanggil image ini. Dalam hal ini Docker tidak akan mengunduh instalasi baru karena berkas tersebut masih ada pada WSL.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>













</pre></div>
</div>
<hr class="docutils" />
<dl class="footnote brackets">
<dt class="label" id="footnote7"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>https://aantamim.id/relasi-tabel-database/</p>
</dd>
<dt class="label" id="footnote6"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>https://alexurquhart.com/post/set-up-postgis-with-docker/</p>
</dd>
</dl>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./sesi2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="intrordbms.html" title="previous page">Pengantar Basisdata Relational</a>
    <a class='right-next' id="next-link" href="dbmanagement.html" title="next page">Administrasi Pengguna pada Basisdata</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Dany Laksono<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.30270b6e4c972e43c488.js"></script>


    
  </body>
</html>